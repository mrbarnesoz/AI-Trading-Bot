data:
  symbol: "XBTUSD"
  start_date: "2023-01-01T00:00:00Z"
  end_date: null
  interval: "5m"
  source: "bitmex"
  cache_dir: "data/raw/bitmex"
features:
  indicators: ["sma", "ema", "rsi", "macd"]
model:
  test_size: 0.2
  random_state: 42
  model_type: "random_forest"
  n_estimators: 200
  max_depth: 6
  n_jobs: -1
  model_dir: "models"
backtest:
  initial_capital: 10000
  transaction_cost: 0.001
  risk_free_rate: 0.01
  position_capital_fraction: 0.005
  max_total_capital_fraction: 0.015
  max_position_units: 4
  maker_fee_bps: 0.01
  taker_fee_bps: 0.06
  funding_rate_column: "fundingRate"
  funding_accrual_hours: 8
  signal_persistence_bars: 1
  flip_cooldown_bars: 0
  fallback_spread_bps: 5.0
  backtest_min_lock: 0.2
  entry_mode: "maker_post_only"
  max_entry_wait_bars: 18
  cancel_spread_bps: 2
  reprice_on: ["new_bar", "top_of_book_change"]
  reprice_tick_offset: 1.0
  partial_fill_min_qty_frac: 0.25
  allow_cross_after_timeout: false
  min_hold_bars: 6
  cooldown_bars_after_exit: 0
  max_trades_per_day_side: 20
  invert_side: false
  enforce_gates: true
  maker_ratio_target: 0.95
  slippage_bps_target: 0.4
  trades_per_day_target: 8.0
  max_drawdown_floor: -0.08
  min_gate_trades: 20
  min_slippage_bps: 0.3
filters:
  allow_long: true
  allow_short: true
  min_atr_frac: 0.0008
  trend_slope_lookback: 12
  min_trend_slope: 0.0
  hysteresis_k_atr: 0.7
  min_confidence: 0.45
  min_adx: 8
signals:
  post:
    min_hold_bars: 6
    hysteresis_k_atr: 0.7
risk:
  trailing:
    enabled: false
    update: {}
    k_atr:
      stop: {}
      take: {}
    min_lock:
      R_multiple: 1.0
    floor_ceiling:
      long:
        min_px_distance_ticks: 1
      short:
        min_px_distance_ticks: 1
    slippage_guard_bps: 5
    max_updates_per_min: 60
pipeline:
  lookahead: 1
  target_column: "target_return"
  long_threshold: 0.54
  short_threshold: 0.46
  long_bands: [0.54, 0.64, 0.74]
  short_bands: [0.46, 0.36, 0.26]
strategy:
  name: "maker_range_scalper"
  params:
    range_lookback: 40
    enter_at_pct_of_range: 0.25
    tp_pct_of_range: 0.10
    sl_pct_of_range: 0.12
    session: "Asia"
modes: []
